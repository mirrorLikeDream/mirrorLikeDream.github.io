import{d as x,r as u,c as C,a,y as n,U as A,u as B,N as F,w as r,V as h,W as E,a2 as L,b as _,X as R,o as f,_ as S}from"./index-BwIqwHK2.js";import{P as $}from"./index-DHtNsDTQ.js";import"./index-jSRc3smI.js";import{B as z}from"./index-BuWVvuws.js";import{C as D}from"./index-06fe6fYc.js";import"./index-BGeby0Sf.js";import{F as I,a as T}from"./index-AX890x7O.js";import"./use-lazy-render-CIhvoqIW.js";import"./use-scope-id-D8dlsbjc.js";const W={class:"gpa-calculator"},X={class:"form-container"},j={class:"course-list"},q={style:{margin:"16px"}},H={style:{margin:"16px"}},J={class:"result-popup"},K=x({__name:"GPAView",setup(M){const P=B(),c=u(!1),v=u(0),V=u(""),b=u(""),p=u([{name:"",credit:"",score:""}]),g=()=>{p.value.push({name:"",credit:"",score:""})},k=d=>{p.value.splice(d,1)},G=()=>{let d=0,e=0;return p.value.forEach(m=>{const s=parseFloat(m.credit),o=parseFloat(m.score);if(!isNaN(s)&&!isNaN(o)){let t=0;o>=90?t=4:o>=85?t=3.7:o>=82?t=3.3:o>=78?t=3:o>=75?t=2.7:o>=72?t=2.3:o>=68?t=2:o>=64?t=1.5:o>=60?t=1:t=0,d+=s*t,e+=s}}),e>0?(d/e).toFixed(2):0},N=()=>{v.value=Number(G()),c.value=!0};return(d,e)=>{const m=F,s=T,o=D,t=z,U=I,w=$;return f(),C("div",W,[a(m,{title:"GPA计算器","left-arrow":"",onClickLeft:e[0]||(e[0]=l=>A(P).back())}),n("div",X,[a(U,{onSubmit:N},{default:r(()=>[a(o,{inset:""},{default:r(()=>[a(s,{name:"totalCredits",label:"总学分",type:"digit",modelValue:V.value,"onUpdate:modelValue":e[1]||(e[1]=l=>V.value=l)},null,8,["modelValue"]),a(s,{name:"totalGradePoints",label:"总绩点",type:"digit",modelValue:b.value,"onUpdate:modelValue":e[2]||(e[2]=l=>b.value=l)},null,8,["modelValue"])]),_:1}),n("div",j,[(f(!0),C(h,null,E(p.value,(l,y)=>(f(),L(o,{inset:"",key:y},{default:r(()=>[a(s,{modelValue:l.name,"onUpdate:modelValue":i=>l.name=i,label:"课程名称",placeholder:"请输入课程名称"},null,8,["modelValue","onUpdate:modelValue"]),a(s,{modelValue:l.credit,"onUpdate:modelValue":i=>l.credit=i,type:"digit",label:"学分",placeholder:"请输入学分"},null,8,["modelValue","onUpdate:modelValue"]),a(s,{modelValue:l.score,"onUpdate:modelValue":i=>l.score=i,type:"digit",label:"分数",placeholder:"请输入分数"},null,8,["modelValue","onUpdate:modelValue"]),a(t,{size:"small",type:"danger",onClick:i=>k(y)},{default:r(()=>e[4]||(e[4]=[_("删除课程")])),_:2},1032,["onClick"])]),_:2},1024))),128))]),n("div",q,[a(t,{round:"",block:"",type:"primary",onClick:g},{default:r(()=>e[5]||(e[5]=[_("添加课程")])),_:1})]),n("div",H,[a(t,{round:"",block:"",type:"primary","native-type":"submit"},{default:r(()=>e[6]||(e[6]=[_("计算GPA")])),_:1})])]),_:1})]),a(w,{show:c.value,"onUpdate:show":e[3]||(e[3]=l=>c.value=l),round:"",position:"bottom"},{default:r(()=>[n("div",J,[e[7]||(e[7]=n("h3",null,"计算结果",-1)),n("p",null,"当前GPA："+R(v.value),1)])]),_:1},8,["show"])])}}}),se=S(K,[["__scopeId","data-v-c850a6eb"]]);export{se as default};
